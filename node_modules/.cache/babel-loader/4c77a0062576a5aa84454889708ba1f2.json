{"ast":null,"code":"import _slicedToArray from\"/home/bourq/Development/code/phase2/project/lolbuilderpro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useHistory}from'react-router-dom';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Battle=function Battle(_ref){var currentUser=_ref.currentUser,setCurrentUser=_ref.setCurrentUser,selectedMap=_ref.selectedMap,selectedChampion=_ref.selectedChampion,selectedGameMode=_ref.selectedGameMode;var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),opponentChampion=_useState2[0],setOpponent=_useState2[1];var _useState3=useState(100),_useState4=_slicedToArray(_useState3,2),healthState=_useState4[0],setHealthState=_useState4[1];var _useState5=useState(40),_useState6=_slicedToArray(_useState5,2),magicState=_useState6[0],setMagicState=_useState6[1];var _useState7=useState(30),_useState8=_slicedToArray(_useState7,2),attackState=_useState8[0],setAttackState=_useState8[1];var _useState9=useState(10),_useState10=_slicedToArray(_useState9,2),defendState=_useState10[0],setDefendState=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),defenseModeOn=_useState12[0],setDefenseModeOn=_useState12[1];var _useState13=useState(75),_useState14=_slicedToArray(_useState13,2),healthStateOpp=_useState14[0],setHealthStateOpp=_useState14[1];var _useState15=useState(50),_useState16=_slicedToArray(_useState15,2),magicStateOpp=_useState16[0],setMagicStateOpp=_useState16[1];var _useState17=useState(30),_useState18=_slicedToArray(_useState17,2),attackStateOpp=_useState18[0],setAttackStateOpp=_useState18[1];var _useState19=useState(7),_useState20=_slicedToArray(_useState19,2),defendStateOpp=_useState20[0],setDefendStateOpp=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),defenseModeOnOpp=_useState22[0],setDefenseModeOnOpp=_useState22[1];useEffect(function(){fetch('http://ddragon.leagueoflegends.com/cdn/11.12.1/data/en_US/champion.json').then(function(res){return res.json();}).then(function(data){setOpponent(Object.values(data.data)[Math.floor(Math.random()*Object.values(data.data).length)]);});},[]);var handleAttack=function handleAttack(e){if(healthStateOpp-attackState<0){setHealthStateOpp(healthStateOpp-(healthStateOpp-0));alert('You won the battle. Returning to the Home Screen to start your next battle');history.push('/');}else if(defenseModeOnOpp===true){if(defendStateOpp>=attackState){alert(\"Your opponent's defense completely blunted your attack. Luckily their armor needs to recharge\");setHealthStateOpp(healthStateOpp-attackState+defendStateOpp);setMagicState(magicState-attackState/2);setDefendStateOpp(defendStateOpp/2);setDefenseModeOnOpp(true);randomMove();}else{alert(\"Your opponent's defense blunted your attack. You attacked for \".concat(attackState-defendStateOpp,\" damage!\"));setHealthStateOpp(healthStateOpp-attackState+defendStateOpp);setMagicState(magicState-attackState/2);setDefendStateOpp(defendStateOpp/2);setDefenseModeOnOpp(false);randomMove();}}else{alert(\"You attacked for \".concat(attackState-defendStateOpp,\" damage!\"));setHealthStateOpp(healthStateOpp-attackState+defendStateOpp);setMagicState(magicState-attackState/2);randomMove();}};var handleDefend=function handleDefend(e){if(healthState-attackStateOpp+defendState*2<0){alert('You lost the battle. Returning to the Home Screen to start your next battle');history.push('/');}else{alert(\"You increased your defense by 2x until your opponent's next attack. Your defense is now \".concat(defendState*2,\"!\"));setDefendState(defendState*2);setDefenseModeOn(true);randomMove();}};var handleUseItem=function handleUseItem(e){console.log(e.target.parentElement.parentElement);};var handleFlee=function handleFlee(e){alert('You fled the battle. Returning to the Home Screen to select a champion!');history.push('/');};var oppMoveArray=[\"handleAttack\",\"handleDefend\"];var randomMove=function randomMove(){var randomOppMove=oppMoveArray[Math.floor(Math.random()*oppMoveArray.length)];console.log(randomOppMove);switch(randomOppMove){case\"handleAttack\":console.log('opp attack');if(healthState-attackStateOpp<0){alert('You lost the battle. Returning to the home page to start your next battle!');history.push('/');}else if(defenseModeOn===true){if(defendState>attackStateOpp){alert('Your defense completely stopped their attack! Unfortunately, your armor needs to be fixed and your defense has been cut in half!');setMagicStateOpp(magicStateOpp-attackStateOpp/2);setDefendState(defendState/2);setDefenseModeOn(false);}else if(defendState>attackStateOpp){alert('Your defense completely stopped their attack! Unfortunately, your armor needs to be fixed and your defense has been cut in half!');setMagicStateOpp(magicStateOpp-attackStateOpp/2);setDefendState(defendState/2);setDefenseModeOn(false);}else{alert(\"Your defense worked! You reduced the damage of your opponent's attack! Your opponent attacked for \".concat(attackStateOpp-defendState,\" damage!\"));setHealthState(healthState-attackStateOpp+defendState);console.log(healthState);setMagicStateOpp(magicStateOpp-attackStateOpp/2);setDefendState(defendState/2);setDefenseModeOn(false);}}else{alert(\"Your opponent attacked for \".concat(attackStateOpp-defendState,\" damage!\"));setHealthState(healthState-attackStateOpp+defendState);console.log(healthState);setMagicStateOpp(magicStateOpp-attackStateOpp/2);}break;case\"handleDefend\":if(healthStateOpp-attackState+defendStateOpp*2<0){alert('You won the battle! Returning to the Home Screen to start your next battle');history.push('/');}else{setDefendStateOpp(defendStateOpp*2);alert(\"Your opponent increased their defense by 2x until your next attack!\");setDefenseModeOnOpp(true);}break;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",id:selectedChampion.name,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"game-setup-container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Map:\"}),\" \",selectedMap]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Champion:\"}),\" \",selectedChampion.name,\" \",selectedChampion.title]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Game Mode:\"}),\" \",selectedGameMode]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"player-container\",children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"Name: \",selectedChampion.name]}),/*#__PURE__*/_jsx(\"div\",{className:\"champion-battle-image\",style:{backgroundImage:\"url(http://ddragon.leagueoflegends.com/cdn/img/champion/loading/\".concat(selectedChampion.name,\"_0.jpg)\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"items-stats-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"health-stats\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"HP: \",healthState]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"MP: \",magicState]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fight-stats\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"ATK: \",attackState]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"DEF: \",defendState]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"items\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movelist\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"move-button\",onClick:function onClick(e){return handleAttack(e);},children:\"Attack\"}),/*#__PURE__*/_jsx(\"button\",{className:\"move-button\",onClick:function onClick(e){return handleDefend(e);},children:\"Defend\"}),/*#__PURE__*/_jsx(\"button\",{className:\"move-button\",onClick:function onClick(e){return handleUseItem(e);},children:\"Use Item\"}),/*#__PURE__*/_jsx(\"button\",{className:\"move-button\",onClick:function onClick(e){return handleFlee(e);},children:\"Flee\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"versus-container\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"versus\",children:\"VS\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"player-container\",children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"Name: \",opponentChampion.name,\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"champion-battle-image\",style:{backgroundImage:\"url(http://ddragon.leagueoflegends.com/cdn/img/champion/loading/\".concat(opponentChampion.name,\"_0.jpg)\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"items-stats-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"health-stats\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"HP: \",healthStateOpp]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"MP: \",magicStateOpp]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fight-stats\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"ATK: \",attackStateOpp]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"DEF: \",defendStateOpp]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"items\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-information\",children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"Current User: \",currentUser.username,\" \"]}),/*#__PURE__*/_jsx(\"button\",{className:\"go-back\",onClick:function onClick(){history.push('/');},children:\"Go back\"}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-button\",onClick:function onClick(){history.push('/login');setCurrentUser({username:\"\",password:\"\"});},children:\"Logout\"})]})]});};export default Battle;","map":{"version":3,"sources":["/home/bourq/Development/code/phase2/project/lolbuilderpro/src/Battle.js"],"names":["useHistory","useState","useEffect","Battle","currentUser","setCurrentUser","selectedMap","selectedChampion","selectedGameMode","history","opponentChampion","setOpponent","healthState","setHealthState","magicState","setMagicState","attackState","setAttackState","defendState","setDefendState","defenseModeOn","setDefenseModeOn","healthStateOpp","setHealthStateOpp","magicStateOpp","setMagicStateOpp","attackStateOpp","setAttackStateOpp","defendStateOpp","setDefendStateOpp","defenseModeOnOpp","setDefenseModeOnOpp","fetch","then","res","json","data","Object","values","Math","floor","random","length","handleAttack","e","alert","push","randomMove","handleDefend","handleUseItem","console","log","target","parentElement","handleFlee","oppMoveArray","randomOppMove","name","title","backgroundImage","username","password"],"mappings":"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","sourcesContent":["import { useHistory } from 'react-router-dom'\nimport { useState, useEffect } from 'react'\n\nlet Battle = ({ currentUser, setCurrentUser, selectedMap, selectedChampion, selectedGameMode }) => {\n    const history = useHistory();\n    const [opponentChampion, setOpponent] = useState(\"\")\n    const [healthState, setHealthState] = useState(100)\n    const [magicState, setMagicState] = useState(40)\n    const [attackState, setAttackState] = useState(30)\n    const [defendState, setDefendState] = useState(10)\n    const [defenseModeOn, setDefenseModeOn] = useState(false)\n    const [healthStateOpp, setHealthStateOpp] = useState(75)\n    const [magicStateOpp, setMagicStateOpp] = useState(50)\n    const [attackStateOpp, setAttackStateOpp] = useState(30)\n    const [defendStateOpp, setDefendStateOpp] = useState(7)\n    const [defenseModeOnOpp, setDefenseModeOnOpp] = useState(false)\n\n\n    useEffect(() => {\n        fetch('http://ddragon.leagueoflegends.com/cdn/11.12.1/data/en_US/champion.json')\n        .then(res => res.json())\n        .then(data => {\n            setOpponent(Object.values(data.data)[Math.floor(Math.random() * Object.values(data.data).length)])\n        })\n    },[])\n\n\n    let handleAttack = (e) => {\n        if((healthStateOpp-attackState)<0) {\n            setHealthStateOpp(healthStateOpp-(healthStateOpp-0))\n            alert('You won the battle. Returning to the Home Screen to start your next battle')\n            history.push('/')\n        } else if (defenseModeOnOpp===true) {\n            if(defendStateOpp>=attackState) {\n                alert(`Your opponent's defense completely blunted your attack. Luckily their armor needs to recharge`)\n                setHealthStateOpp(healthStateOpp-attackState+defendStateOpp)\n                setMagicState(magicState-(attackState/2))\n                setDefendStateOpp(defendStateOpp/2)\n                setDefenseModeOnOpp(true)\n                randomMove()\n            } else {\n                alert(`Your opponent's defense blunted your attack. You attacked for ${attackState-defendStateOpp} damage!`)\n                setHealthStateOpp(healthStateOpp-attackState+defendStateOpp)\n                setMagicState(magicState-(attackState/2))\n                setDefendStateOpp(defendStateOpp/2)\n                setDefenseModeOnOpp(false)\n                randomMove()\n            }\n        } else {\n            alert(`You attacked for ${attackState-defendStateOpp} damage!`)\n            setHealthStateOpp(healthStateOpp-attackState+defendStateOpp)\n            setMagicState(magicState-(attackState/2))\n            randomMove()\n        }\n    }\n \n    let handleDefend = (e) => {\n        if((healthState-attackStateOpp+(defendState*2))<0){\n            alert('You lost the battle. Returning to the Home Screen to start your next battle')\n            history.push('/')\n        } else {\n            alert(`You increased your defense by 2x until your opponent's next attack. Your defense is now ${defendState*2}!`)\n            setDefendState(defendState*2)\n            setDefenseModeOn(true)\n            randomMove()\n        }\n\n    }\n\n    let handleUseItem = (e) => {\n        console.log(e.target.parentElement.parentElement)\n    }\n\n    let handleFlee = (e) => {\n        alert('You fled the battle. Returning to the Home Screen to select a champion!')\n        history.push('/')\n    }\n\n    let oppMoveArray = [\"handleAttack\", \"handleDefend\"]\n\n    let randomMove = () => {\n        let randomOppMove = oppMoveArray[Math.floor(Math.random()*oppMoveArray.length)]\n        console.log(randomOppMove)\n        switch(randomOppMove) {\n            case \"handleAttack\":\n                console.log('opp attack')\n                if(healthState-attackStateOpp<0) {\n                    alert('You lost the battle. Returning to the home page to start your next battle!')\n                    history.push('/')\n                } else if (defenseModeOn===true) {\n                    if(defendState>attackStateOpp) {\n                        alert('Your defense completely stopped their attack! Unfortunately, your armor needs to be fixed and your defense has been cut in half!')\n                        setMagicStateOpp(magicStateOpp-(attackStateOpp/2))\n                        setDefendState(defendState/2)\n                        setDefenseModeOn(false)\n                    } else if (defendState>attackStateOpp){\n                        alert('Your defense completely stopped their attack! Unfortunately, your armor needs to be fixed and your defense has been cut in half!')\n                        setMagicStateOpp(magicStateOpp-(attackStateOpp/2))\n                        setDefendState(defendState/2)\n                        setDefenseModeOn(false)\n                    } else {\n                        alert(`Your defense worked! You reduced the damage of your opponent's attack! Your opponent attacked for ${attackStateOpp-defendState} damage!`)\n                        setHealthState(healthState-attackStateOpp+defendState)\n                        console.log(healthState)\n                        setMagicStateOpp(magicStateOpp-(attackStateOpp/2))\n                        setDefendState(defendState/2)\n                        setDefenseModeOn(false)\n                    }\n                } else {\n                    alert(`Your opponent attacked for ${attackStateOpp-defendState} damage!`)\n                    setHealthState(healthState-attackStateOpp+defendState)\n                    console.log(healthState)\n                    setMagicStateOpp(magicStateOpp-(attackStateOpp/2))\n                }\n                break;\n            case \"handleDefend\":\n                if((healthStateOpp-attackState+(defendStateOpp*2))<0){\n                    alert('You won the battle! Returning to the Home Screen to start your next battle')\n                    history.push('/')\n                } else {\n                    setDefendStateOpp(defendStateOpp*2)\n                    alert(`Your opponent increased their defense by 2x until your next attack!`)\n                    setDefenseModeOnOpp(true)\n                }\n                break;\n        }\n    }\n\n    return (\n        <div className=\"main-container\" id={selectedChampion.name}>\n            <div className=\"game-setup-container\">\n                <div><b>Map:</b> {selectedMap}</div>\n                <div><b>Champion:</b> {selectedChampion.name} {selectedChampion.title}</div>\n                <div><b>Game Mode:</b> {selectedGameMode}</div>\n            </div>\n            <div className=\"action-container\">\n                <div className=\"player-container\">\n                    <b>Name: {selectedChampion.name}</b>\n                    <div \n                        className=\"champion-battle-image\"\n                        style={{backgroundImage: `url(http://ddragon.leagueoflegends.com/cdn/img/champion/loading/${selectedChampion.name}_0.jpg)`}}>\n                    </div>\n                    <div className=\"items-stats-container\">\n                        <div className=\"stats\">\n                            <div className=\"health-stats\">\n                                <h5>HP: {healthState}</h5>\n                                <h5>MP: {magicState}</h5>\n                            </div>\n                            <div className=\"fight-stats\">\n                                <h5>ATK: {attackState}</h5>\n                                <h5>DEF: {defendState}</h5>\n                            </div>\n                        </div>\n                        <div className=\"items\"></div>\n                    </div>\n                    <div className=\"movelist\">\n                        <button className=\"move-button\" onClick={(e) => handleAttack(e)}>Attack</button>\n                        <button className=\"move-button\" onClick={(e) => handleDefend(e)}>Defend</button>\n                        <button className=\"move-button\" onClick={(e) => handleUseItem(e)}>Use Item</button>\n                        <button className=\"move-button\" onClick={(e) => handleFlee(e)}>Flee</button>\n                    </div>\n                </div>\n                <div className=\"versus-container\">\n                    <h2 className=\"versus\">VS</h2>\n                </div>\n                <div className=\"player-container\">\n                    <b>Name: {opponentChampion.name} </b> \n                    <div \n                        className=\"champion-battle-image\" \n                        style={{backgroundImage: `url(http://ddragon.leagueoflegends.com/cdn/img/champion/loading/${opponentChampion.name}_0.jpg)`}}\n                        >\n\n                    </div>\n                    <div className=\"items-stats-container\">\n                        <div className=\"stats\">\n                            <div className=\"health-stats\">\n                                <h5>HP: {healthStateOpp}</h5>\n                                <h5>MP: {magicStateOpp}</h5>\n                            </div>\n                            <div className=\"fight-stats\">\n                                <h5>ATK: {attackStateOpp}</h5>\n                                <h5>DEF: {defendStateOpp}</h5>\n                            </div>\n                        </div>\n                        <div className=\"items\"></div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"user-information\">\n                <b>Current User: {currentUser.username} </b>\n                <button className=\"go-back\" onClick={() => { history.push('/')}}>Go back</button>\n                <button \n                    className=\"logout-button\" \n                    onClick={() => {\n                    history.push('/login')\n                    setCurrentUser({\n                        username: \"\",\n                        password: \"\"\n                    })\n                    }}\n                >Logout</button>\n            </div>\n        </div>\n    )\n}\n\nexport default Battle"]},"metadata":{},"sourceType":"module"}