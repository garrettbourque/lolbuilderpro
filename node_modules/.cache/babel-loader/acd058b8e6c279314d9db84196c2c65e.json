{"ast":null,"code":"var _jsxFileName = \"/home/bourq/Development/code/phase2/project/lolbuilderpro/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: 200\n    }\n  }\n}));\n\nlet Login = ({\n  currentUser,\n  setCurrentUser,\n  loginValidated,\n  setLoginValidated\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const [usernameError, setUsernameError] = useState(false);\n  const [passwordError, setPasswordError] = useState(false);\n\n  let handleCreateLogin = () => {\n    history.push('/createlogin');\n  };\n\n  let handleChange = e => {\n    setCurrentUser({ ...currentUser,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  let handleSubmit = e => {\n    e.preventDefault();\n    fetch('http://localhost:3000/users').then(res => res.json()).then(data => {\n      let findID = data.find(user => {\n        return user.username === currentUser.username;\n      });\n      setCurrentUser({ ...currentUser,\n        id: findID.id\n      });\n    });\n    fetch('http://localhost:3000/users').then(res => res.json()).then(data => {\n      if (currentUser.username === \"\" || currentUser.username === undefined) {\n        alert('Please input a username');\n        setLoginValidated(false);\n      } else {\n        let foundUser = data.find(user => {\n          if (user.username === currentUser.username) {\n            setUsernameError(false);\n            return user.username === currentUser.username;\n          } else if (user.username !== currentUser.username) {\n            history.push('/login');\n            setLoginValidated(false);\n            setUsernameError(true);\n          } else {\n            history.push('/login');\n            setLoginValidated(false);\n            setUsernameError(true);\n          }\n        });\n\n        if (foundUser === \"\" || foundUser === undefined) {\n          alert('That user does not exist. Please create a new login.');\n        } else {\n          if (currentUser.password === undefined || currentUser.password === \"\") {\n            alert('Please input a password');\n            history.push('/login');\n            setLoginValidated(false);\n            setPasswordError(true);\n          } else if (currentUser.password == foundUser.password) {\n            setLoginValidated(true);\n            setUsernameError(false);\n            setPasswordError(false);\n            console.log('working');\n            history.push('/');\n          }\n        }\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    id: \"loginForm\",\n    className: classes.root,\n    noValidate: true,\n    autoComplete: \"off\",\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-card\",\n        style: usernameError === true ? {\n          height: '37%'\n        } : {\n          height: '31%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          error: usernameError === true ? true : false,\n          id: \"filled-error\",\n          label: \"username\",\n          name: \"username\",\n          defaultValue: currentUser.username,\n          helperText: usernameError === true ? \"That user does not exist. Please create a new login.\" : null,\n          variant: \"filled\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          error: passwordError === true ? true : false,\n          id: \"filled-error-helper-text\",\n          label: \"password\",\n          name: \"password\",\n          defaultValue: currentUser.password,\n          helperText: passwordError === true ? \"Incorrect entry. Please enter a valid password.\" : null,\n          variant: \"outlined\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: () => handleCreateLogin(),\n            children: \"Create Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"jmSbg4RXNg/7a+QtZRY3IJP8jRg=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/bourq/Development/code/phase2/project/lolbuilderpro/src/Login.js"],"names":["useState","useHistory","makeStyles","Button","TextField","useStyles","theme","root","margin","spacing","width","Login","currentUser","setCurrentUser","loginValidated","setLoginValidated","classes","history","usernameError","setUsernameError","passwordError","setPasswordError","handleCreateLogin","push","handleChange","e","target","name","value","handleSubmit","preventDefault","fetch","then","res","json","data","findID","find","user","username","id","undefined","alert","foundUser","password","console","log","height"],"mappings":"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","sourcesContent":["import { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Button } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      '& .MuiTextField-root': {\n        margin: theme.spacing(1),\n        width: 200,\n      },\n    },\n  }));\n\nlet Login = ({ currentUser, setCurrentUser, loginValidated, setLoginValidated }) => {\n    const classes = useStyles();   \n    const history = useHistory()\n    const [usernameError, setUsernameError] = useState(false)\n    const [passwordError, setPasswordError] = useState(false)\n    \n    let handleCreateLogin = () => {\n        history.push('/createlogin')\n    }\n\n    let handleChange = (e) => {\n        setCurrentUser({\n            ...currentUser,\n            [e.target.name] : e.target.value\n            \n        })\n    }\n\n    let handleSubmit = (e) => {\n        e.preventDefault()\n        fetch('http://localhost:3000/users')\n        .then(res => res.json())\n        .then(data => {\n            let findID = data.find(user => {\n                return user.username === currentUser.username\n            })\n            setCurrentUser({\n                ...currentUser,\n                id: findID.id\n            })\n        })\n\n\n        fetch('http://localhost:3000/users')\n        .then(res => res.json())\n        .then(data => {\n            if (currentUser.username===\"\" || currentUser.username===undefined){\n                alert('Please input a username')\n                setLoginValidated(false)\n            } else {\n                let foundUser = data.find(user => {\n                    if(user.username===currentUser.username){\n                        setUsernameError(false)\n                        return user.username === currentUser.username\n                    } else if (user.username !== currentUser.username) {\n                        history.push('/login')\n                        setLoginValidated(false)\n                        setUsernameError(true)\n                    } else {\n                        history.push('/login')\n                        setLoginValidated(false)\n                        setUsernameError(true)  \n                    }\n                })\n                \n                if (foundUser===\"\" || foundUser=== undefined) {\n                    alert('That user does not exist. Please create a new login.')\n                } else {\n                    if (currentUser.password === undefined || currentUser.password === \"\") {\n                        alert('Please input a password')\n                        history.push('/login')\n                        setLoginValidated(false)\n                        setPasswordError(true)\n                    } else if (currentUser.password==foundUser.password) {\n                        setLoginValidated(true)\n                        setUsernameError(false)\n                        setPasswordError(false)\n                        console.log('working')\n                        history.push('/')\n                    }      \n                }        \n            }\n        })\n    }\n\n    return (\n        <form id=\"loginForm\" className={classes.root} noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\n            <div className=\"login\">\n                    <div className=\"login-card\"\n                        style={usernameError=== true ? {height:'37%'} : {height:'31%'}}\n                    >\n                        <TextField\n                            error={usernameError===true ? true : false}\n                            id=\"filled-error\"\n                            label=\"username\"\n                            name=\"username\"\n                            defaultValue={currentUser.username}\n                            helperText={usernameError===true ? \"That user does not exist. Please create a new login.\" : null}\n                            variant=\"filled\"\n                            onChange={handleChange}\n                        />\n                        <TextField\n                            error={passwordError===true ? true : false}\n                            id=\"filled-error-helper-text\"\n                            label=\"password\"\n                            name=\"password\"\n                            defaultValue={currentUser.password}\n                            helperText={passwordError===true ? \"Incorrect entry. Please enter a valid password.\" : null}\n                            variant=\"outlined\"\n                            onChange={handleChange}\n                        />\n                        <div className=\"login-buttons\">\n                            <Button variant=\"contained\" color=\"primary\" type=\"submit\" >Submit</Button>\n                            <Button variant=\"contained\" color=\"primary\" onClick={() => handleCreateLogin()}>Create Login</Button>\n                        </div>\n                    </div>\n            </div>\n        </form>\n    )\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}